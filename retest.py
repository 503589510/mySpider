# 用于正则表达式练习
# http://eng.suda.edu.cn
# http://file.suda.edu.cn/
# http://library.suda.edu.cn/
# http://mail.suda.edu.cn
# /
# /suda_news/
# /general_situation/xzzc.jsp
# /general_situation/xzzc.jsp
# /general_situation/xxjj.jsp
# /general_situation/xrld.jsp
# /general_situation/zzjg.jsp
# http://map.suda.edu.cn/Projects/SZDX/WebSite/Index.aspx
# /general_situation/xyfg.jsp
# /general_situation/zmxy/gjld.jsp
# /branch_setting/ybsz.jsp
# /teacher_qualified/szgk.jsp
# /teacher_qualified/szgk.jsp
# /teacher_qualified/msfc.jsp
# /education_teaching/jyjx.jsp
# /education_teaching/jyjx.jsp#bks
# /education_teaching/jyjx.jsp#yjs
# /education_teaching/jyjx.jsp#lxs
# /education_teaching/jyjx.jsp#jxjy
# /science_research/kyxm.jsp
# /science_research/kyxm.jsp
# /science_research/kyjg.jsp
# /science_research/kycg.jsp
# /science_research/xsqk.jsp
# /enroll_job/?id=1#bk
# /enroll_job/?id=1#bk
# /enroll_job/?id=2#yjs
# /enroll_job/?id=3#cj
# /enroll_job/?id=4#lx
# /enroll_job/?id=5#gaot
# /enroll_job/dlxy.jsp
# /enroll_job/jyzd.jsp
# /cooperate_communion/gnhz.jsp
# /home/bks.jsp
# /home/jzyg.jsp
# http://fzb.suda.edu.cn/
# /home/hzhb.jsp
# /home/zsdr.jsp
# /home/shfk.jsp
# /home/xsjz.jsp
# http://sdzy.suda.edu.cn
# /home/tpxw/2020/index.html
# #
# /home/tpxw/2020/index.html
# http://www.suda.edu.cn/suda_news/sdyw/202001/0c83e7ca-e80f-4409-93a2-16acbfa5c33c.html
# /home/tpxw/2020/index.html
# http://www.suda.edu.cn/suda_news/sdyw/202001/409697af-e6a0-4e45-a79c-f4bb04e268e9.html
# /home/tpxw/2020/index.html
# http://www.suda.edu.cn/suda_news/sdyw/202001/9343c88c-cf72-4c03-bfc0-6780536f56e9.html
# /home/tpxw/2020/index.html
# /suda_news/sdyw/index.html
# /suda_news/sdyw/index.html
# /suda_news/sdyw/202002/0c620fb0-aad7-4168-a3a4-a7c07442df98.html
# /suda_news/sdyw/201912/41e9254b-64c9-4c03-8e78-b2ddea7e676d.html
# /suda_news/sdyw/201911/4f512f7d-9332-41a1-b287-7884098030ba.html
# /suda_news/sdyw/202002/7f96ad77-c313-47f7-8596-7f3fb4b72279.html
# /suda_news/sdyw/202002/cf0b5090-2c2a-4ea0-aed7-0a704eb6ebb0.html
# /suda_news/sdyw/202002/7a537706-6975-4877-b33b-c246609cd6c5.html
# /suda_news/sdyw/202002/1e5152af-203a-41e2-9348-f61f7e7808ef.html
# /suda_news/sdyw/202002/e83aeeba-11ca-477c-a99b-8280993142bc.html
# /suda_news/jxky/index.html
# /suda_news/sdyw/index.html
# /suda_news/jxky/202001/27787bbf-99f5-44e5-83ac-668dc3217006.html
# /suda_news/jxky/201912/a202eaa2-5e4d-4132-946f-b9ed0a8aff6d.html
# /suda_news/jxky/201912/163d8966-32fd-4bca-93cc-c26d3bfdf783.html
# /suda_news/jxky/202002/ed2fcd0c-67c7-498f-a3e9-12f6fb02b42c.html
# https://mp.weixin.qq.com/s/vdpSMW6NQLUp0KOxzNkjUg
# /suda_news/jxky/202002/166a2a13-ed3b-46d9-87d4-9d698c8ba4f5.html
# /suda_news/jxky/202001/fc20737d-3d45-44f4-8ae1-eaddf47ba3bb.html
# /suda_news/jxky/202001/dabae55c-be2f-43d1-b12d-05d07bf2e6b1.html
# /suda_news/mtjj/index.html
# /suda_news/mtjj/index.html
# /suda_news/xmt/index.html
# /suda_news/xmt/index.html
# /suda_news/mtjj/202002/6aaeb1c0-2a5c-4f70-a389-ff8835b0728e.html
# /suda_news/mtjj/202002/f70de0cf-2f84-4a76-809b-8d94e5d7a7d9.html
# /suda_news/mtjj/202002/7721ba33-e4b6-4852-8ead-f4b2d61b79a1.html
# /suda_news/mtjj/202001/100200f0-53fb-436c-99ae-f0eee53bbc15.html
# https://mp.weixin.qq.com/s/rZOPZjzAX6QKRMDQGDgcxw
# https://mp.weixin.qq.com/s/gHiIStWC_3qlDw93_EsexQ
# https://mp.weixin.qq.com/s?__biz=MzA5NTU1NjEwNw==&mid=2650850630&idx=1&sn=b51f68c4dc31d6b2b75adf0b40c784c3&chksm=8b49e222bc3e6b34382172a36a185f60cceaf06a387e15bb36984c10f53a213e35ea4aafb5ab&token=1569441445&lang=zh_CN#rd
# https://mp.weixin.qq.com/s?__biz=MzA5NTU1NjEwNw==&mid=2650850434&idx=1&sn=d55e1b769f7411274476fc312b5e5ad4&chksm=8b49e3e6bc3e6af010433dbd01aeeb097652d3249d607bd65f88c2cb83c1b3918be4d64a8548&token=1569441445&lang=zh_CN#rd
# http://report.suda.edu.cn
# http://report.suda.edu.cn
# http://report.suda.edu.cn//202001/c8de3f09-40a3-4c99-8f10-068b4d60775a.html
# http://report.suda.edu.cn//202001/59a941c4-aaca-4e30-82be-ee1a2437b0d3.html
# http://report.suda.edu.cn//202001/3f7a793c-206a-4122-be11-0b2257de8d7e.html
# http://report.suda.edu.cn//202001/3df6dc35-d061-4533-b948-97885edd2e6b.html
# http://report.suda.edu.cn//202001/b364593e-9dd4-41b8-a29f-6325967111fa.html
# http://report.suda.edu.cn//202001/4c5d8c6d-5214-4bba-8764-0e43b73c62d5.html
# /suda_news/sdrw/index.html
# /suda_news/sdrw/index.html
# https://mp.weixin.qq.com/s?__biz=MzA5NTU1NjEwNw==&mid=2650849990&idx=1&sn=6b7c2e88305be0a84e3e6125bec4dedf&chksm=8b49e5a2bc3e6cb46f9a9b47b49ef0e90072f46fb45f27693b8571d6b4a9a076020d496add06&token=1924366888&lang=zh_CN#rd
# /suda_news/sdsy/index.html
# /suda_news/sdsy/index.html
# /suda_news/sdsy/index.html
# /suda_news/xshd/index.html
# /suda_news/xshd/index.html
# /suda_news/xshd/201912/cb614b6a-8207-43b3-af80-1911749c0cf3.html
# /suda_news/xshd/201912/356aff8a-5b03-4886-9bdf-e688dd56a0e1.html
# /suda_news/xshd/201912/c5c2696d-8ca9-483d-a7c1-9629ff34fac3.html
# /suda_news/xshd/202001/147d559c-76c0-4fdd-981a-f6c3738344fe.html
# /suda_news/ehb/index.html
# /suda_news/ehb/index.html
# /suda_news/ehb/202002/025a0407-8481-47dc-853b-fb1b665268bd.html
# /suda_news/ehb/202001/e3195d29-b5f4-4edc-a86f-43f019769086.html
# /suda_news/ehb/202002/b620b824-b75d-4a36-9f0a-d9c7297e1094.html
# /suda_news/ehb/202002/dacc9736-3826-4218-b63d-7718967e4393.html
# /suda_news/ehb/202002/08ae6ea4-6b13-44d9-a3f1-942450625d67.html
# http://www.suda.edu.cn/newsdb/2020%E5%B9%B4%E5%AF%92%E5%81%87%E5%80%BC%E7%8F%AD%E8%A1%A8/index.htm
# /scene.do
import sys
import re
# 匹配标准url的正则表达式
re1 = r'^(http|https)://([\w.]+[^#]/?)\S*'
# 匹配相对路径的url
re2 = r'^/([\w.]+/?)\S*'
# 匹配缺少/的url
re3 = r'^[^/]([\w.]?/?)\S*'
# 匹配suda的页面
re4 = r'.+suda\.edu\.cn.+'

# 匹配ip地址
re5 = r'.*((2[0-4]\d|25[0-5]|[01]?\d\d?)\.){3}(2[0-4]\d|25[0-5]|[01]?\d\d?).*'
# 过滤掉可能报错的
re6 = r".*[@|'|,].*"


def test1(str):
    print(str)
    print(re.match(re1, str, re.M | re.I))


def test2(str):
    print(str)
    print(re.match(re2, str, re.M | re.I))


def test3(str):
    print(str)
    print(re.match(re3, str, re.M | re.I))


def test4(str):
    print(str)
    print(re.match(re4, str, re.M | re.I))


def test5(str):
    print(str)
    print(re.match(re5, str, re.M | re.I))


def test6(str):
    print(str)
    print(re.match(re6, str, re.M | re.I))


test1('http://www.suda.edu.cn/newsdb/2020%E5%B9%B4%E5%AF%92%E5%81%87%E5%80%BC%E7%8F%AD%E8%A1%A8/index.htm')

test1('http://ezreal-yk.cn')
test1('https://192.168.0.1')

test2('/suda_news/ehb/index.html')
test3('/suda_news/ehb/index.html')
test3('suda_news/ehb/index.html')
test3('#')


test4('/home/tpxw/2020/index.html')

test4('http://www.suda.edu.cn/suda_news/sdyw/202001/0c83e7ca-e80f-4409-93a2-16acbfa5c33c.html')

test5('192.168.0.1')
test5('https://192.168.0.1/ewqewq')
test6("ewqe@eqwe")
test6("ewqe.eqwe")
test6("ewqe.eqweer'e'")
test6('https://192.168.0.1/ewqewq')
test6("https://192.168.0.1/ewq@'e',wq")


mmm = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10}
kkk = list(mmm)
print()
mmm.add(11)
kkk = list(mmm)
print(kkk)
for idx, m in enumerate(kkk):
    print(idx, ':', m)


class Logger(object):
    def __init__(self, filename='default.log', stream=sys.stdout):
        self.terminal = stream
        self.log = open(filename, 'w')

    def write(self, message):
        self.terminal.write(message)
        self.log.write(message)

    def flush(self):
        pass


sys.stdout = Logger('a.log', sys.stdout)
sys.stderr = Logger('a.log_file', sys.stderr)
